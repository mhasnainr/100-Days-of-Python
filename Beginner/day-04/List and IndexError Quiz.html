<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz</title>

    <style>
      body {
        font-family: sf pro text, -apple-system, BlinkMacSystemFont, Roboto,
          segoe ui, Helvetica, Arial, sans-serif, apple color emoji,
          segoe ui emoji, segoe ui symbol;
        font-weight: 400;
        line-height: 22.4px;
        font-size: 16px;
      }
      p,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      ul,
      ol {
        font-size: 16px;
        font-weight: 400;
      }
      ul {
        list-style: none;
        margin: 0;
        padding: 0;
        max-width: none;
      }
      code {
        background-color: #fff;
        border: 1px solid #d1d7dc;
        color: #b4690e;
        font-size: 90%;
        padding: 0.2rem 0.4rem;
      }
      .quiz-content {
        padding: 2.4rem;
        word-break: break-word;
        max-width: 86rem;
        margin: 0 auto;
      }
      .quiz-container {
        margin: 0 auto;
        max-width: 84rem;
        padding: 0;
      }
      .question {
        margin-bottom: 5rem;
      }
      .question span {
        font-size: 24px;
        font-weight: 700;
      }
      .question-prompt {
        margin-top: 0.8rem;
        font-weight: 700;
      }
      .question-answer {
        margin-top: 1.6rem;
        padding-left: 0;
        box-sizing: border-box;
      }
      .question-answer label {
        max-width: 80rem;
        position: relative;
        cursor: pointer;
        display: flex;
        min-width: 18rem;
        border: solid #1c1d1f 2px;
      }
      .question-answer div {
        display: flex;
        align-items: center;
        padding: 0.5rem;
        width: 100%;
      }
      .question-answer div:hover {
        background-color: #f5f5f5;
      }
      .question-answer input {
        display: none;
      }
      .question-answer span {
        width: 1rem;
        height: 1rem;
        margin-right: 1.6rem;
        top: 0;
        border-radius: 50%;
        display: inline-block;
        flex-shrink: 0;
        border: 0.2rem solid #1c1d1f;
        position: relative;
      }
      .selected {
        background: #1c1d1f;
        box-shadow: 0 0 0 0.4rem #fff inset;
      }
      .score {
        position: fixed;
      }
    </style>
  </head>

  <body onload="main()">
    <div id="score" class="score">
      <span>Score: N/A of N/A</span>
    </div>
    <div id="quiz-container" class="quiz-content"></div>

    <script>
      const quizData = {
        pass_percent: 70,
        questions: [
          {
            _class: "assessment",
            id: 15418341,
            assessment_type: "multiple-choice",
            prompt: {
              question:
                '<p>Given the following list:</p><pre class="prettyprint linenums">fruits = ["Strawberries", "Nectarines", "Apples", "Grapes", "Peaches", "Cherries", "Pears"]</pre><p>Which line of code will give you <code>"Apples"</code>?</p>',
              relatedLectureIds: ["18025599"],
              feedbacks: [
                'Remember that the index is the amount of offset from the beginning. So fruits[3] is actually "Grapes".',
                'Remember that the index is the amount of offset from the beginning. So fruits[4] is actually "Peaches".',
                "This is not valid code. ",
                "You got it! Using a negative index offsets from the end of the list. To offset from the start of the list the code would be: fruits[2]",
                'The last item in the list is fruits[-1], so fruits[-4] is actually going to give you "Grapes".',
              ],
              answers: [
                "<p><code>fruits[3]</code> </p>",
                "<p><code>fruits[4]</code> </p>",
                "<p><code>fruits.Apples()</code></p>",
                "<p><code>fruits[-5]</code> </p>",
                "<p><code>fruits[-4]</code> </p>",
              ],
            },
            correct_response: ["d"],
            section: "",
            question_plain:
              'Given the following list:fruits = ["Strawberries", "Nectarines", "Apples", "Grapes", "Peaches", "Cherries", "Pears"]Which line of code will give you "Apples"?',
            related_lectures: [
              {
                _class: "lecture",
                id: 18025599,
                title: "Understanding the Offset and Appending Items to Lists",
                created: "2020-02-12T08:44:07Z",
                is_published: true,
                asset: {
                  _class: "asset",
                  id: 22322357,
                  asset_type: "Video",
                  title:
                    "4.3 Python List Data Structure working with offset.mp4",
                  created: "2020-02-12T17:14:56Z",
                },
                object_index: 44,
                url: "/course/100-days-of-code/learn/lecture/18025599",
              },
            ],
          },
          {
            _class: "assessment",
            id: 15421487,
            assessment_type: "multiple-choice",
            prompt: {
              feedbacks: ["", "", "", ""],
              question:
                '<p>Given the code below:</p><pre class="prettyprint linenums">fruits = ["Strawberries", "Nectarines", "Apples", "Grapes", "Peaches", "Cherries", "Pears"]\nfruits[-1] = "Melons"\nfruits.append("Lemons")\nprint(fruits)</pre><p>What do you think will be printed?</p>',
              relatedLectureIds: ["18025599"],
              answers: [
                '<p><code>["Strawberries", "Nectarines", "Apples", "Grapes", "Peaches", "Cherries", "Lemons"]</code> </p>',
                '<p><code>["Strawberries", "Nectarines", "Apples", "Grapes", "Peaches", "Cherries", "Pears", "Lemons"]</code> </p>',
                '<p><code>["Strawberries", "Nectarines", "Apples", "Grapes", "Peaches", "Cherries", "Pears", "Melons", Lemons"]</code> </p>',
                '<p><code>["Strawberries", "Nectarines", "Apples", "Grapes", "Peaches", "Cherries", "Melons", "Lemons"]</code> </p>',
              ],
            },
            correct_response: ["d"],
            section: "",
            question_plain:
              'Given the code below:fruits = ["Strawberries", "Nectarines", "Apples", "Grapes", "Peaches", "Cherries", "Pears"]\nfruits[-1] = "Melons"\nfruits.append("Lemons")\nprint(fruits)What do you think will be printed?',
            related_lectures: [
              {
                _class: "lecture",
                id: 18025599,
                title: "Understanding the Offset and Appending Items to Lists",
                created: "2020-02-12T08:44:07Z",
                is_published: true,
                asset: {
                  _class: "asset",
                  id: 22322357,
                  asset_type: "Video",
                  title:
                    "4.3 Python List Data Structure working with offset.mp4",
                  created: "2020-02-12T17:14:56Z",
                },
                object_index: 44,
                url: "/course/100-days-of-code/learn/lecture/18025599",
              },
            ],
          },
          {
            _class: "assessment",
            id: 15421535,
            assessment_type: "multiple-choice",
            prompt: {
              feedbacks: [
                "This would be print(dirty_dozen[1][0])",
                "This would be print(dirty_dozen[0][0])",
                "You got it!",
                "This would be print(dirty_dozen[1])",
                "This would be print(dirty_dozen[0][1])",
              ],
              question:
                '<p>Given the code below:</p><pre class="prettyprint linenums">fruits = ["Strawberries", "Nectarines", "Apples", "Grapes", "Peaches", "Cherries", "Pears"]\nvegetables = ["Spinach", "Kale", "Tomatoes", "Celery", "Potatoes"]\n\ndirty_dozen = [fruits, vegetables]\n\nprint(dirty_dozen[1][1])</pre><p>What will be printed?</p><p><br></p><p><br></p><p><strong>What\'s going on?</strong></p><p>This question combines several of the Python List concepts that we\u2019ve seen in the previous lessons in isolation. If the code above is at all confusing, I recommend breaking down what\u2019s going on using several print statements using repl.it. First, try printing out:</p><pre class="prettyprint linenums">print(dirty_dozen)</pre><p>Then print out:</p><pre class="prettyprint linenums">print(dirty_dozen[0])\nprint(dirty_dozen[1])</pre><p>To see what happens at the next stage print out:</p><pre class="prettyprint linenums">print(dirty_dozen[1][2])\nprint(dirty_dozen[1][3])</pre><p>I hope this helps clarify how nested lists work. \ud83d\ude42 </p>',
              relatedLectureIds: ["18029081"],
              answers: [
                '<p>"Spinach"</p>',
                '<p>"Strawberries"</p>',
                '<p>"Kale"</p>',
                '<p>["Spinach", "Kale", "Tomatoes", "Celery", "Potatoes"]</p>',
                '<p>"Nectarines"</p>',
              ],
            },
            correct_response: ["c"],
            section: "",
            question_plain:
              'Given the code below:fruits = ["Strawberries", "Nectarines", "Apples", "Grapes", "Peaches", "Cherries", "Pears"]\nvegetables = ["Spinach", "Kale", "Tomatoes", "Celery", "Potatoes"]\n\ndirty_dozen = [fruits, vegetables]\n\nprint(dirty_dozen[1][1])What will be printed?What\'s going on?This question combines several of the Python List concepts that we\u2019ve seen in the previous lessons in isolation. If the code above is at all confusing, I recommend breaking down what\u2019s going on using several print statements using repl.it. First, try printing out:print(dirty_dozen)Then print out:print(dirty_dozen[0])\nprint(dirty_dozen[1])To see what happens at the next stage print out:print(dirty_dozen[1][2])\nprint(dirty_dozen[1][3])I hope this helps clarify how nested lists work. \ud83d\ude42',
            related_lectures: [
              {
                _class: "lecture",
                id: 18029081,
                title: "IndexErrors and Working with Nested Lists",
                created: "2020-02-12T13:30:55Z",
                is_published: true,
                asset: {
                  _class: "asset",
                  id: 55169846,
                  asset_type: "Video",
                  title:
                    "4.5 Updated 2024 03 08 nested lists and indexerror.mp4",
                  created: "2024-03-08T12:21:20Z",
                },
                object_index: 46,
                url: "/course/100-days-of-code/learn/lecture/18029081",
              },
            ],
          },
        ],
      };
      var correct = 0;
      var total = 0;
      const questionData = quizData.questions;
      const passPercent = quizData.pass_percent;

      function main() {
        total = questionData.length;

        var questions = [];
        for (var i = 0; i < questionData.length; i++) {
          var question = questionData[i];
          var questionText = question.prompt.question;
          var answers = question.prompt.answers;
          var correctAnswer = question.correct_response[0];
          var correctAnswerText = answers[correctAnswer.charCodeAt(0) - 97];
          var questionObj = {
            question: questionText,
            correctAnswer: correctAnswerText,
            answers: answers,
            id: question.id,
          };
          questions.push(questionObj);
        }

        updateScore();

        // display the questions
        var questionsContainer = document.getElementById("quiz-container");
        for (var i = 0; i < questions.length; i++) {
          var question = questions[i];
          var questionElement = document.createElement("form");
          questionElement.className = "question";
          questionElement.innerHTML =
            "<span>Question " +
            (i + 1) +
            ":</span>" +
            '<div class="question-prompt">' +
            question.question +
            "</div>";
          questionElement.id = question.id;
          questionElement.classList.add("quiz-container");
          var answersElement = document.createElement("ul");
          answersElement.className = "answers";
          for (var j = 0; j < question.answers.length; j++) {
            var answer = question.answers[j];
            var answerElement = document.createElement("li");
            answerElement.className = "answer";
            answerElement.innerHTML =
              '<label for="input-' +
              question.id +
              "-" +
              j +
              '"><div onclick="select(' +
              question.id +
              ", " +
              j +
              ')"><span></span><input id="input-' +
              question.id +
              "-" +
              j +
              '" type="radio" name="question' +
              i +
              '" value="' +
              j +
              '">' +
              answer +
              "</input></div></label>";
            answerElement.classList.add("question-answer");
            answersElement.appendChild(answerElement);
          }

          questionElement.appendChild(answersElement);

          // add a submit button
          var submitButton = document.createElement("button");
          submitButton.className = "submit";
          submitButton.innerHTML = "Submit";
          submitButton.classList.add("submit-button");

          submitButton.addEventListener("click", function (e) {
            e.preventDefault();
            var questionElement = e.target.parentElement;
            var questionId = questionElement.id;
            var question = questions.filter(function (q) {
              return q.id == questionId;
            })[0];

            // set the border color of all answers to black
            var answers = questionElement.getElementsByClassName("answer");
            for (var i = 0; i < answers.length; i++) {
              console.log(answers[i]);
              answers[i].children[0].style.borderColor = "#1c1d1f";
            }

            var answer = questionElement.querySelector(
              'input[type="radio"]:checked'
            );
            if (answer) {
              var answerIndex = answer.value;
              var answerText = question.answers[answerIndex];
              if (answerText == question.correctAnswer) {
                answer.parentElement.parentElement.style.borderColor =
                  "limegreen";
                // alert("Correct!");
                correct++;
                updateScore();
              } else {
                answer.parentElement.parentElement.style.borderColor = "red";
                // alert("Incorrect!");
              }
            } else {
              alert("Please select an answer.");
            }
          });

          // add button
          questionElement.appendChild(submitButton);

          questionsContainer.appendChild(questionElement);
        }
      }

      function select(question, answer) {
        var questionElement = document.getElementById(question);
        var answers = questionElement.getElementsByClassName("answer");
        for (var i = 0; i < answers.length; i++) {
          var span = answers[i].children[0].children[0].children[0];
          var input = answers[i].children[0].children[0].children[1];
          span.classList.remove("selected");
          input.checked = false;
        }
        var span = answers[answer].children[0].children[0].children[0];
        var input = answers[answer].children[0].children[0].children[1];
        span.classList.add("selected");
        input.checked = true;
      }

      function updateScore() {
        var scoreElem = document.getElementById("score");
        const score = (correct / total) * 100;
        scoreElem.innerHTML = "Score: " + score + "/" + passPercent + "%";
      }
    </script>
  </body>
</html>
